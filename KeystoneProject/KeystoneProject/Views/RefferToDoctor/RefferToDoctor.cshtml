@model KeystoneProject.Models.Master.RefferToDoctor
@{
    ViewBag.Title = "Master";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- This file is edited by Mohammed -->

@*<!DOCTYPE html>
    <html>
    <head>*@
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
@*<style>
    element.style {
        width: 383px;
    }

    input[type=file] {
        display: block;
        background: #ffffff;
        padding: 0px 2px 0px 0px;
        color: #868f95 !important;
        font-family: roboto;
    }

    .btn-group {
        margin-bottom: 4px;
    }

    .btn {
        padding: 0px;
    }

    .padding0 {
        padding: 0px;
    }

    .btndivcss:hover {
        color: #fff;
        background-color: #03578e;
        border-color: #106dca;
    }

    .btndivcss {
        height: 30px;
        border: 0px solid white;
        padding: 0px 6px 0px 0px !important;
        font-family: roboto;
        border-color: #35a4f1;
        box-shadow: 0 1px 1px rgba(0,0,0,.075);
        color: #ffffff;
        background-color: #35a4f1;
        border-radius: 4px;
    }

    .buttoniconcss {
        background: #106dca;
        padding: 8px;
        border-radius: 4px 0px 0px 4px;
        margin-right: 5px;
    }

    .scrollbar::-webkit-scrollbar {
        width: 6px;
    }

    .scrollbar::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    .scrollbar::-webkit-scrollbar-thumb {
        background: #35a4f1;
        border-radius: 23px;
    }

        .scrollbar::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

    .btn-group {
        padding-right: 4px;
    }

    .topheadline {
        background: white;
        padding: 3px;
        color: #1e2123;
        box-shadow: 1px 1px 11px 1px #cecece;
        font-family: roboto;
        padding-left: 12px;
        font-size: 19px;
        margin-top: 0px;
    }

    .panelheading {
        background: rgb(189, 223, 247);
        color: #22292d;
        font-family: roboto;
        font-size: 20px;
        padding: 5px;
        margin-top: 0px;
        margin-bottom: 0px;
    }

    .panel-primary {
        border: 1px solid #dadada;
        border-radius: 4px;
        box-shadow: 1px 1px 11px 1px #eae4e4;
        background: #ffffff;
    }

    .content-wrapper {
        background: #F6F7FB !important;
    }

    span {
        font-family: roboto;
        font-size: 13px;
    }

    .rowmargintop {
        margin-top: 5px;
    }

    .form-control {
        height: 26px;
        padding: 1px 1px 1px 6px;
    }

    .content-header {
        padding: 0px .5rem;
    }

    .rowmarginbottom {
        margin-bottom: 4px;
    }

    .btn-warning {
        color: #ffffff;
        background-color: #35a4f1;
        border-color: #35a4f1;
        box-shadow: 0 1px 1px rgba(0,0,0,.075);
        font-family: roboto;
    }

    .btn-primary {
        background-color: #35a4f1 !important;
        color: #fff;
        border: 1px solid #35a4f1;
    }

    .file-field input[type=file] {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        bottom: 0;
        width: 100%;
        margin: 0;
        padding: 0;
        cursor: pointer;
        opacity: 0;
    }

    table.dataTable tbody tr:hover {
        background-color: #ebf1f6;
        cursor: pointer !important;
    }

    .btn {
        display: inline-block;
        font-weight: 400;
        color: #212529;
        text-align: center;
        vertical-align: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-color: transparent;
        border: 1px solid transparent;
        padding: .375rem .75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: .25rem;
        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }

    .btn-app {
        border-radius: 3px;
        background-color: #f8f9fa;
        border: 1px solid #ddd;
        font-size: 12px;
        height: 50px;
        margin: 0 0 10px 10px;
        min-width: 70px;
        padding: 8px 5px;
        position: relative;
        text-align: center;
    }

    .btn-danger {
        color: #fff !important;
        background-color: #dc3545 !important;
        border-color: #dc3545 !important;
        box-shadow: none !important;
    }

    a:not([href]):not([tabindex]):hover, .dt-button:hover {
        color: #ffffff;
        background: #106dca;
        text-decoration: none;
        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }

    .btn.focus, .btn:focus, .btn:hover, .dt-button:hover {
        color: #ffffff;
        background: #106dca;
        text-decoration: none;
        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }

    .btn-app:hover .dt-button {
        color: #ffffff;
        background: #106dca;
        text-decoration: none;
        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }

    .dt-button {
        padding-left: 0px;
        padding-right: 0px;
        border-right-width: 0px;
        border-left-width: 0px;
        border-top-width: 0px;
        border-bottom-width: 0px;
        padding-top: 0px;
        padding-bottom: 0px;
        height: auto;
        width: auto;
        background-color: #f8f9fa;
        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }
</style>*@
@if (TempData["Msg"] != null)
{
    <script type="text/javascript">
        alert(@Html.Raw(Json.Encode(TempData["msg"])));
        window.onload(true);
        Restor();
    </script>
}
<script>
    $(document).ready(function () {
        $("#serachtable").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#refferDoctorTableId tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
        $("#refferDoctorTableId").delegate('tr', 'click', function () {
            $('#refferDoctorTableId tr').removeClass('highlighted');
            $(this).addClass('highlighted');
        });
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        debugger
        $.ajax({
            type: "GET",
            //  contentType: "application/json; charset=utf-8",
            url: '@Url.Action("ShowRefferDoctor", "RefferToDoctor")',
            //data: "{}",
            dataType: "json",
            success: function (data) {
                for (var i = 0; i < data.length; i++) {
                    var SrNo = i + 1;
                    $("#refferDoctorTableId").append(
                        '<tr><td>' + SrNo + '</td><td>' + data[i].InstituteName + '</td><td style="">' + data[i].PrintName + '</td><td style="display:none">' + data[i].RefferDoctorID + '</td><td style="display:none">' + data[i].PermanentAddress + '</td><td style="display:none">' + data[i].TelephoneNo + '</td><td style="display:none">' + data[i].FaxNo + '</td><td style="display:none">' + data[i].MobileNo + '</td><td style="display:none">' + data[i].EmailId + '</td></tr>');
                };
                $('#refferDoctorTableId').DataTable({
                    "fixedHeader": true,
                    "paging": true,
                    "lengthChange": true,
                    "searching": true,
                    "ordering": true,
                    "info": true,
                    "autoWidth": true,
                    "responsive": false,
                });
                var buttons = new $.fn.dataTable.Buttons($('#refferDoctorTableId').DataTable(), {
                    buttons: [
                        {
                            extend: 'excel',
                            text: '<li class="fa fa-file-excel-o fa-lg" style="font-weight: 600;"></li><br>Excel'
                        }
                    ]
                }).container().appendTo($('#refferDoctorExcelExport'));
            },
            error: function (result) {
                alert("Error grd bind");
            }
        });
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#refferDoctorTableId').delegate('td', 'click', function () {
            debugger;
            var row = $(this).parent().index();
            $("#save").html("<i class='fa fa-save'></i>Update");
            var InstituteName = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[1].innerHTML;
            var PrintName = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[2].innerHTML;
            var RefferDoctorID = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[3].innerHTML;
            var PermanentAddress = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[4].innerHTML;
            var TelephoneNo = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[5].innerHTML;
            var FaxNo = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[6].innerHTML;
            var MobileNo = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[7].innerHTML;
            var EmailId = document.getElementById("refferDoctorTableId").tBodies[0].rows[row].cells[8].innerHTML;
            $('#PrintName').val(PrintName);
            $('#RefferDoctorID').val(RefferDoctorID);
            $('#InstituteName').val(InstituteName);
            $('#PermanentAddress').val(PermanentAddress);
            $('#TelephoneNo').val(TelephoneNo);
            $('#FaxNo').val(FaxNo);
            $('#MobileNo').val(MobileNo);
            $('#EmailId').val(EmailId);
        })
    });
</script>
@*<script>
        function Delete(RefferDoctorID) {
            debugger
            if (RefferDoctorID != "" && $("#InstituteName").val() != "")
            {
                var ans = confirmm("Are Sure You Want To Delete This Record?");
                if (ans)
                {
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("DeleteRefferDoctor", "RefferToDoctor")',
                        data: {RefferDoctorID : RefferDoctorID},
                        datatype: "json",
                        success: function (data)
                        {
                            if (data == "Done") {
                                alert(" Deleted Successfully");
                                location.reload(true);
                                Restore();
                            }
                            else
                            {
                                alert(data);
                            }
                        },
                        error: function (errormessage)
                        {
                            alert(errormessage.responseText);
                        }
                    });
                }
            }
        }
    </script>*@
<script>
    function Delete(RefferDoctorID) {
        debugger
        if (RefferDoctorID != "" && $("#PrefixName").val() != "") {
            var ans = confirm("Are you sure you want to delete this Record?");
            if (ans) {
                $.ajax({
                    type: "POST",
                    //url: "/Doctor/DeleteDoctor?DoctorID=" + DoctorID,
                    url: '@Url.Action("DeleteRefferDoctor", "RefferToDoctor")',
                    data: { RefferDoctorID: RefferDoctorID },
                    dataType: "json",
                    success: function (data) {
                        if (data == "Done") {
                            alert("Reffer Institute Deleted Successfully");
                            location.reload(true);
                            Restore();
                        }
                        else {
                            alert(data);
                        }
                    },
                    error: function (errormessage) {
                        alert(errormessage.responseText);
                    }
                });
            }
        }
    }
</script>
<script>
    function Delele(RefferDoctorID) {
        debugger
        var ans = confirm("Are you sure you want to Delete this Record?");
        if (ans) {
            $.ajax({
                type: "POST",
                url: '@Url.Action("DeleteRefferDoctor", "RefferToDoctor")',
                data: { RefferDoctorID: RefferDoctorID },
                dataType: "json",
                success: function (data) {
                    debugger
                    if (data =="Done") {
                        alert(" Deleted Successfully");
                        window.location.reload(true);
                      
                       
                        //return false;
                       
                    }
                    else {
                        alert(data);
                    }
                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            });
        }
    }
</script>
<script>
   
    $(document).ready(function () {
        $("#InstituteName").keyup(function () {

            var name = $(this).val();
            $("#PrintName").val(name);
        })
    })


</script>
<!-- ico font -->
@*</head>*@
<body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">
        <form action="" method="post">
            <div class="content-wrapper">
                <section class="content-header">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-sm-6">
                                <h1>Reffer To Institute Master</h1>
                            </div>
                            <div class="col-sm-6">
                                <ol class="breadcrumb float-sm-right">
                                    <li class="breadcrumb-item"><a href="@Url.Action("Dashboard","Home")">Home</a></li>
                                    <li class="breadcrumb-item"><a href="@Url.Action("PatientMaster", "Application")">Master</a></li>
                                    <li class="breadcrumb-item active">Reffer To Institute</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="card card-primary panel-primary">
                                    <h2 class="panelheading">Reffer Institute Details</h2>
                                    <div class="card-body pane-body">
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 rowmargintop padding0 rowmarginbottom">
                                                <div class="form-group col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <label>Institute Name</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                                                        <input type="text" id="InstituteName" name="InstituteName" class="form-control"
                                                               required style="border-left-color: red;border-left-width: thick;"
                                                               oninvalid="this.setCustomValidity('Please Enter Institute Name')"
                                                               oninput="this.setCustomValidity('')">
                                                        <input type="hidden" name="RefferDoctorID" id="RefferDoctorID">
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <label>Print Name</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                                                        <input type="text" id="PrintName" name="PrintName" class="form-control" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="card card-primary panel-primary">
                                    <h2 class="panelheading">Address Details</h2>
                                    <div class="card-body pane-body">
                                        <div class="row">
                                            <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12 padding0">
                                                <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <label>Address</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                                                        <textarea id="PermanentAddress" name="PermanentAddress" class="form-control" rows="3"
                                                                  required style="border-left-color: red;border-left-width: thick;"
                                                                  oninvalid="this.setCustomValidity('Please Enter Address')"
                                                                  oninput="this.setCustomValidity('')"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-8 col-md-6 col-sm-12 col-xs-12 padding0">
                                                <div class="form-group col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                                        <label>Tel.</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-6 col-sm-12 col-xs-12">
                                                        <input type="text" id="TelephoneNo" name="TelephoneNo" class="form-control" placeholder="Telephone No."
                                                               oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                                        <label>Mob.</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-6 col-sm-12 col-xs-12">
                                                        <input type="text" id="MobileNo" name="MobileNo" maxlength="10" class="form-control" placeholder="Mobile Number"
                                                               required style="border-left-color: red;border-left-width: thick;"
                                                               oninvalid="this.setCustomValidity('Please Enter Mobile Number')"
                                                               oninput="this.setCustomValidity(''); this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                                        <label>Fax</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-6 col-sm-12 col-xs-12">
                                                        <input type="text" id="FaxNo" name="FaxNo" class="form-control" placeholder="Fax Number" />
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                                        <label>Email Id</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-6 col-sm-12 col-xs-12">
                                                        <input type="email" id="EmailId" name="EmailId" class="form-control" placeholder="Email I'd">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        @*<div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <div class="form-group col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <label>Permanent Address</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                                                        <textarea id="PermanentAddress" name="PermanentAddress" class="form-control" rows="2"
                                                                  required style="border-left-color: red;border-left-width: thick;"
                                                                  oninvalid="this.setCustomValidity('Please Enter Address')"
                                                                  oninput="this.setCustomValidity('')"></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                                                        <label>Telephone No.</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
                                                        <input type="text" id="TelephoneNo" name="TelephoneNo" class="form-control" placeholder="Telephone No."
                                                               oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <div class="form-group col-lg-4  col-md-4 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-right:0px">
                                                        <label>Mobile No.</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
                                                        <input type="text" id="MobileNo" name="MobileNo" maxlength="10" class="form-control"
                                                               required style="border-left-color: red;border-left-width: thick;"
                                                               oninvalid="this.setCustomValidity('Please Enter Mobile Number')"
                                                               oninput="this.setCustomValidity(''); this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-4  col-md-4 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                                                        <label>Fax No.</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
                                                        <input type="text" id="FaxNo" name="FaxNo" class="form-control" />
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"">
                                                        <label>Email Id</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
                                                        <input type="email" id="EmailId" name="EmailId" class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="row">

                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"></div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="text-align: center; display: block;">
                                        <div class="btn-group dropdown-split-warning">
                                            <button type="submit" class="btn btn-app" id="save">
                                                <i class="fa fa-save"></i>Save
                                            </button>
                                        </div>
                                        <div class="btn-group dropdown-split-warning">
                                            <a class="btn btn-app" onclick="Delele(document.getElementById('RefferDoctorID').value)">
                                                <i class="fa fa-trash"></i>Delete
                                            </a>
                                        </div>
                                        <div class="btn-group dropdown-split-warning">
                                            <a class="btn btn-app" onclick="location.reload();">
                                                <i class="fa fa-refresh"></i>Clear
                                            </a>
                                        </div>
                                        <div class="btn-group dropdown-split-warning">
                                            <a class="btn btn-app" onclick="window.location.href='@Url.Action("PatientMaster", "Application")'">
                                                <i class="fa fa-sign-out"></i>Exit
                                            </a>
                                        </div>
                                        <div class="btn-group dropdown-split-warning">
                                            <a class="btn btn-app" id="refferDoctorExcelExport"></a>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"></div>

                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 margin-r-5" style=" padding-bottom: 10px;overflow:auto">
                                        <table id="refferDoctorTableId" class="table table-bordered hover display dataTable table-hover" role="grid" aria-describedby="example1_info"
                                               style="width: 100%">
                                            <thead style="background-color: #bddff7;">
                                                <tr>
                                                    <th scope="col">Srno.</th>
                                                    <th scope="col">Institute Name</th>
                                                    <th scope="col">Print Name</th>
                                                    <th style="display:none">InstituteNameID</th>
                                                    <th style="display:none">PermanentAddress</th>
                                                    <th style="display:none">TelephoneNo</th>
                                                    <th style="display:none">FaxNo</th>
                                                    <th style="display:none">MobileNo</th>
                                                    <th style="display:none">EmailId</th>


                                                </tr>
                                            </thead>
                                            <tbody class="scrollbar"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </form>
    </div>
</body>
